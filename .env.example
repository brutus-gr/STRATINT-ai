# STRATINT configuration

# Server Configuration
SERVER_PORT=8080
SERVER_READ_TIMEOUT_SECONDS=10
SERVER_WRITE_TIMEOUT_SECONDS=10
SERVER_SHUTDOWN_TIMEOUT_SECONDS=5
ENVIRONMENT=development

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json

# ====================================
# Database Configuration
# ====================================

# For LOCAL development: Use DATABASE_URL directly
DATABASE_URL=postgresql://user:password@localhost:5432/stratint?sslmode=disable

# For CLOUD RUN with Cloud SQL: Use these instead of DATABASE_URL
# INSTANCE_CONNECTION_NAME should be in format: project-id:region:instance-name
# Example: my-project:us-central1:stratint-db
INSTANCE_CONNECTION_NAME=
DB_NAME=stratint
DB_USER=stratint
# DB_PASSWORD should be stored in Google Secret Manager for production
DB_PASSWORD=

# Connection pool settings
DATABASE_MAX_CONNECTIONS=100
DATABASE_MAX_IDLE_CONNECTIONS=10

# Redis Configuration (Google Memorystore - optional)
# REDIS_URL=redis://host:6379
# REDIS_PASSWORD=
# REDIS_DB=0

# OpenAI Configuration
# NOTE: OpenAI configuration is now managed via the admin panel at /admin -> OPENAI tab
# Configure API key, model, temperature, and prompts in the database

# FRED API Configuration
FRED_API_KEY=your-fred-api-key-here

# Ingestion Pipeline
INGESTION_POLL_INTERVAL_MINUTES=5
INGESTION_ENABLE_DEDUP=true

# Thresholds
PUBLISH_MIN_CONFIDENCE=0.30
PUBLISH_MIN_MAGNITUDE=1.0

# Admin Panel Authentication
ADMIN_JWT_SECRET=change-this-secret-in-production
ADMIN_PASSWORD=admin
ADMIN_ENABLED=true

# ====================================
# Google Cloud Configuration
# ====================================
GCP_PROJECT_ID=your-project-id
GCP_REGION=us-central1

# Cloud Run specific settings (set automatically by Cloud Run)
# PORT=8080  # Cloud Run sets this automatically
# K_SERVICE=stratint  # Service name
# K_REVISION=stratint-00001-abc  # Revision name
# K_CONFIGURATION=stratint  # Configuration name
